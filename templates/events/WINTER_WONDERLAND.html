<event-header></event-header>
<div class="col-md-8 col-padding">
  <legendary-skins></legendary-skins>
  <div id="skins" class="section">
    <section-header select-modal="selectModal" name="Other Winter Wonderland Skins" type="skins" totals="totals.skins"></section-header>
    <div class="section-content items flex-4">
      <div
        ng-repeat="item in filteredItems.skins track by $index"
        ng-init="type = 'skins'"
        class="item"
        achievement="{{item.achievement}}"
        uib-tooltip-template="'imagePreviewTemplate.html'"
        tooltip-popup-delay="225"
        tooltip-class="img-preview"
        tooltip-enable="{{canPlayType(type)}}"
        tooltip-placement="auto">
        <input type="checkbox" id="{{type + item.id + $index}}" ng-model="checked[item.hero][type][item.id]" ng-change="onSelect(item, type)">
        <label for="{{type + item.id + $index}}">
          <h4 ng-if="item.heroName">{{item.heroName}}</h4>
          <h3 class="{{item.quality}}">{{item.name}} <small class="color-cost">{{ item | itemPrice:type:'WINTER_WONDERLAND' }}</small></h3>
          <span ng-if="item.isNew" class="new">NEW</span>
        </label>
      </div>
    </div>
  </div>
  <div id="voicelines" class="section">
    <section-header select-modal="selectModal" name="Voicelines" type="voicelines" totals="totals.voicelines"></section-header>
    <div class="section-content items flex-3">
      <div
        ng-repeat="item in filteredItems.voicelines track by $index"
        ng-init="type = 'voicelines'"
        class="item"
        uib-tooltip-template="'imagePreviewTemplate.html'"
        tooltip-popup-delay="300"
        tooltip-class="img-preview"
        tooltip-enable="{{canPlayType(type)}}"
        tooltip-placement="auto">
        <input type="checkbox" id="{{type + item.id + $index}}" ng-model="checked[item.hero][type][item.id]" ng-change="onSelect(item, type)">
        <label for="{{type + item.id + $index}}">
          <h4 ng-if="item.heroName">{{item.heroName}}</h4>
          <h3 class="{{item.quality}}">{{item.name}} <small class="color-cost">{{ item | itemPrice:type:'WINTER_WONDERLAND' }}</small></h3>
          <span ng-if="item.isNew" class="new">NEW</span>
        </label>
      </div>
    </div>
  </div>
  <div id="sprays" class="section">
    <section-header select-modal="selectModal" name="Sprays" type="sprays" totals="totals.sprays"></section-header>
    <div class="section-content items flex-4">
      <div
        ng-repeat="item in filteredItems.sprays track by $index"
        ng-init="type = 'sprays'"
        ng-if="!item.hidden"
        class="item"
        achievement="{{item.achievement}}"
        uib-tooltip-template="'imagePreviewTemplate.html'"
        tooltip-popup-delay="225"
        tooltip-class="img-preview"
        tooltip-enable="{{canPlayType(type)}}"
        tooltip-placement="auto">

        <input type="checkbox" id="{{type + item.id + $index}}" ng-model="checked[item.hero][type][item.id]" ng-change="onSelect(item, type)">
        <input ng-if="item.heroName" type="checkbox" class="circle-checkbox" ng-if="item.heroName" id="{{'sprayorn' + $index}}" ng-model="checked[item.hero][type][item.secondId]" ng-change="onSelect(item, type, item.secondId)">
        <label ng-if="item.heroName" for="{{'sprayorn' + $index}}" class="circle-checkbox"></label>
        <label for="{{type + item.id + $index}}">
          <h4>{{item.heroName || 'All'}}</h4>
          <h3 class="{{item.quality || 'common'}}">{{item.name}} <small class="color-cost">{{ item | itemPrice:type:'WINTER_WONDERLAND' }}</small></h3>
          <span ng-if="item.isNew" class="new">NEW</span>
        </label>
      </div>
    </div>
  </div>
</div>

<div class="col-md-4 col-padding">
  <div id="victoryposes" class="section">
    <section-header select-modal="selectModal" name="Victory Poses" type="poses" totals="totals.poses"></section-header>
    <div class="section-content items flex-2">
      <div
        ng-repeat="item in filteredItems.poses track by $index"
        ng-init="type = 'poses'"
        class="item"
        uib-tooltip-template="'imagePreviewTemplate.html'"
        tooltip-popup-delay="225"
        tooltip-class="img-preview"
        tooltip-enable="{{canPlayType(type)}}"
        tooltip-placement="auto">
        <input type="checkbox" id="{{type + item.id + $index}}" ng-checked="item.standardItem || checked[item.hero][type][item.id]" ng-disabled="item.standardItem" ng-model="checked[item.hero][type][item.id]" ng-change="onSelect(item, type)">
        <label for="{{type + item.id + $index}}">
          <h4 ng-if="item.heroName">{{item.heroName}}</h4>
          <h3 class="{{item.quality}}">{{item.name}} <small class="color-cost">{{ item | itemPrice:type:'WINTER_WONDERLAND' }}</small></h3>
          <span ng-if="item.isNew" class="new">NEW</span>
        </label>
      </div>
    </div>
  </div>
  <div id="emotes" class="section">
    <section-header select-modal="selectModal" name="Emotes" type="emotes" totals="totals.emotes"></section-header>
    <div class="section-content items flex-2">
      <div
        ng-repeat="item in filteredItems.emotes track by $index"
        ng-init="type = 'emotes'"
        class="item"
        uib-tooltip-template="'imagePreviewTemplate.html'"
        tooltip-popup-delay="225"
        tooltip-class="img-preview"
        tooltip-enable="{{canPlayType(type)}}"
        tooltip-placement="auto">
        <input type="checkbox" id="{{type + item.id + $index}}" ng-model="checked[item.hero][type][item.id]" ng-change="onSelect(item, type)">
        <label for="{{type + item.id + $index}}">
          <h4 ng-if="item.heroName">{{item.heroName}}</h4>
          <h3 class="{{item.quality}}">{{item.name}} <small class="color-cost">{{ item | itemPrice:type:'WINTER_WONDERLAND' }}</small></h3>
          <span ng-if="item.isNew" class="new">NEW</span>
        </label>
      </div>
    </div>
  </div>
  <div id="intros" class="section">
    <section-header select-modal="selectModal" name="Highlight Intros" type="intros" totals="totals.intros"></section-header>
    <div class="section-content items flex-2">
      <div
        ng-repeat="item in filteredItems.intros track by $index"
        ng-init="type = 'intros'"
        class="item"
        uib-tooltip-template="'imagePreviewTemplate.html'"
        tooltip-popup-delay="225"
        tooltip-class="img-preview"
        tooltip-enable="{{canPlayType(type)}}"
        tooltip-placement="auto">
        <input type="checkbox" id="{{type + item.id + $index}}" ng-model="checked[item.hero][type][item.id]" ng-change="onSelect(item, type)">
        <label for="{{type + item.id + $index}}">
          <h4 ng-if="item.heroName">{{item.heroName}}</h4>
          <h3 class="{{item.quality}}">{{item.name}} <small class="color-cost">{{ item | itemPrice:type:'WINTER_WONDERLAND' }}</small></h3>
          <span ng-if="item.isNew" class="new">NEW</span>
        </label>
      </div>
    </div>
  </div>
  <div id="icons" class="section">
    <section-header select-modal="selectModal" name="Player Icons" type="icons" totals="totals.icons"></section-header>
    <div class="section-content items flex-2">
      <div
        ng-repeat="item in filteredItems.icons track by $index"
        ng-init="type = 'icons'"
        class="item"
        uib-tooltip-template="'imagePreviewTemplate.html'"
        tooltip-popup-delay="225"
        tooltip-class="img-preview"
        tooltip-enable="{{canPlayType(type)}}"
        tooltip-placement="auto">
        <input type="checkbox" id="{{type + item.id + $index}}" ng-model="checked[item.hero][type][item.id]" ng-change="onSelect(item, type)">
        <label for="{{type + item.id + $index}}">
          <h4>{{item.heroName || 'All'}}</h4>
          <h3 class="{{item.quality || 'common'}}">{{item.name}} <small class="color-cost">{{ item | itemPrice:type:'WINTER_WONDERLAND' }}</small></h3>
          <span ng-if="item.isNew" class="new">NEW</span>
        </label>
      </div>
    </div>
  </div>
</div>

<script type="text/ng-template" id="imagePreviewTemplate.html">
  <tooltip-image-preview></tooltip-image-preview>
</script>
